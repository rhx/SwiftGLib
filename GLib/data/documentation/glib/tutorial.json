{"primaryContentSections":[{"kind":"content","content":[{"anchor":"What-is-GLib","level":2,"type":"heading","text":"What is GLib?"},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"https:\/\/docs.gtk.org\/glib\/"},{"type":"text","text":" is a low-level,"},{"type":"text","text":" "},{"type":"text","text":"general-purpose software library that provides a set of"},{"type":"text","text":" "},{"type":"text","text":"useful data types, string utilities, filesystem abstractions,"},{"type":"text","text":" "},{"type":"text","text":"a mainloop abstraction, and similar tools for developing"},{"type":"text","text":" "},{"type":"text","text":"libraries and applications in different programming languages."},{"type":"text","text":" "},{"type":"text","text":"GLIb is mainly used for creating and interacting with"},{"type":"text","text":" "},{"type":"text","text":"low-level data structures and supports features such as"},{"type":"text","text":" "},{"type":"text","text":"event-driven programming, memory management, and data"},{"type":"text","text":" "},{"type":"text","text":"type management."},{"type":"text","text":" "},{"type":"text","text":"GLib is part of the GNOME project, but works with different"},{"type":"text","text":" "},{"type":"text","text":"Operating Systems, including Linux and macOS."}]},{"anchor":"Swift-Bindings","level":2,"type":"heading","text":"Swift Bindings"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The Swift language bindings have been generated using"},{"type":"text","text":" "},{"type":"text","text":"the "},{"type":"codeVoice","code":".gir"},{"type":"text","text":" files from"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/gi.readthedocs.io\/en\/latest\/"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"allowing a more “swifty” use of the library than using it"},{"type":"text","text":" "},{"type":"text","text":"through the low-level C interface."},{"type":"text","text":" "},{"type":"text","text":"Particularly the collection interfaces, such as"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/rhx.github.io\/SwiftGLib\/GLib\/documentation\/glib\/typedslist"},{"type":"text","text":" and"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/rhx.github.io\/SwiftGLib\/GLib\/documentation\/glib\/typedlist"},{"type":"text","text":" "},{"type":"text","text":"allow to use templated Swift data types rather than raw"},{"type":"text","text":" "},{"type":"text","text":"pointers."}]},{"anchor":"Prerequisites","level":2,"type":"heading","text":"Prerequisites"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To get the most out of this tutorial, you should be"},{"type":"text","text":" "},{"type":"text","text":"generally familiar with Linux, macOS, or other UNIX-like"},{"type":"text","text":" "},{"type":"text","text":"environments and know how to use a command-line shell"},{"type":"text","text":" "},{"type":"text","text":"such as "},{"type":"reference","isActive":true,"identifier":"https:\/\/www.gnu.org\/software\/bash\/"},{"type":"text","text":" or"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/www.zsh.org\/"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You will need a"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/www.swift.org\/getting-started\/cli-swiftpm\/"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"either by"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/support\/xcode\/"},{"type":"text","text":" "},{"type":"text","text":"if you are running macOS, or"},{"type":"text","text":" "},{"type":"text","text":"by "},{"type":"reference","isActive":true,"identifier":"https:\/\/www.swift.org\/install\/"},{"type":"text","text":" "},{"type":"text","text":"directly for your Operating System."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You also need to install the GLib development libraries"},{"type":"text","text":" "},{"type":"text","text":"for your system."}]},{"anchor":"Installing-GLib-on-Linux","level":3,"type":"heading","text":"Installing GLib on Linux"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Most modern Linux distributions come with the GLib runtime"},{"type":"text","text":" "},{"type":"text","text":"preinstalled, but you will need to install the headers"},{"type":"text","text":" "},{"type":"text","text":"necessary for development."},{"type":"text","text":" "},{"type":"text","text":"This can be done using the package manager for your system."},{"type":"text","text":" "},{"type":"text","text":"For example, on Ubuntu or other Debian-based systems,"},{"type":"text","text":" "},{"type":"text","text":"you can use the "},{"type":"reference","isActive":true,"identifier":"https:\/\/wiki.debian.org\/Apt"},{"type":"text","text":" package"},{"type":"text","text":" "},{"type":"text","text":"manager using the following commands:"}]},{"type":"codeListing","syntax":null,"code":["sudo apt update","sudo apt install libglib2.0-dev glib-networking gobject-introspection libgirepository1.0-dev libxml2-dev jq"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Depending on your Linux distributions, the names of the"},{"type":"text","text":" "},{"type":"text","text":"packages and package management tools will vary."},{"type":"text","text":" "},{"type":"text","text":"You should be able to find this in the documentation for"},{"type":"text","text":" "},{"type":"text","text":"your Linux distribution."}]},{"style":"tip","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Some more examples can also be found in the"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/rhx\/SwiftGLib\/blob\/main\/README.md"},{"type":"text","text":"."}]}],"type":"aside","name":"Tip"},{"anchor":"Installing-GLib-on-macOS","level":3,"type":"heading","text":"Installing GLib on macOS"},{"type":"paragraph","inlineContent":[{"type":"text","text":"For macOS, there are multiple package management tools"},{"type":"text","text":" "},{"type":"text","text":"that you can use."},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"http:\/\/brew.sh\/"},{"type":"text","text":" is one example."},{"type":"text","text":" "},{"type":"text","text":"After you have installed HomeBrew, you can install"},{"type":"text","text":" "},{"type":"text","text":"GLib using:"}]},{"type":"codeListing","syntax":null,"code":["brew update","brew install glib glib-networking gobject-introspection pkg-config jq"]},{"anchor":"Compiling-SwiftGLib-programs","level":2,"type":"heading","text":"Compiling SwiftGLib programs"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The easiest way to compile programs and libraries using"},{"type":"text","text":" "},{"type":"text","text":"SwiftGLib is through projects using the"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/swift.org\/package-manager\/"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"Here is an example for a simple program that uses a"},{"type":"text","text":" "},{"overridingTitleInlineContent":[{"type":"text","text":"type list"}],"isActive":true,"type":"reference","identifier":"https:\/\/rhx.github.io\/SwiftGLib\/GLib\/documentation\/glib\/typedlist","overridingTitle":"type list"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"First, create a directory (folder) for your project, then"},{"type":"text","text":" "},{"type":"text","text":"create the project inside the folder:"}]},{"type":"codeListing","syntax":null,"code":["mkdir swift-glist","cd swift-glist","swift package init --type=executable"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This will create a simple “Hello World” executable that"},{"type":"text","text":" "},{"type":"text","text":"you can test using "},{"type":"codeVoice","code":"swift run"},{"type":"text","text":" – the program will run"},{"type":"text","text":" "},{"type":"text","text":"and print “Hello world”."},{"type":"text","text":" "},{"type":"text","text":"If you look at the files generated by "},{"type":"codeVoice","code":"swift package init"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"you will find a file named "},{"type":"codeVoice","code":"Package.swift"},{"type":"text","text":" that represents"},{"type":"text","text":" "},{"type":"text","text":"the project and its compilation targets."},{"type":"text","text":" "},{"type":"text","text":"Overall, if you run"}]},{"type":"codeListing","syntax":null,"code":["find * -type f"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"you should see two files, the aforementioned "},{"type":"codeVoice","code":"Package.swift"},{"type":"text","text":" "},{"type":"text","text":"and a "},{"type":"codeVoice","code":"main.swift"},{"type":"text","text":" in "},{"type":"codeVoice","code":"Sources\/swift-glist"},{"type":"text","text":":"}]},{"type":"codeListing","syntax":null,"code":["Package.swift","Sources\/swift-glist\/main.swift"]},{"style":"warning","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Some versions of the Swift Package manager create"},{"type":"text","text":" "},{"type":"text","text":"a flat structure when using "},{"type":"codeVoice","code":"swift package init"},{"type":"text","text":" that puts"},{"type":"text","text":" "},{"type":"text","text":"the "},{"type":"codeVoice","code":"main.swift"},{"type":"text","text":" directly in the "},{"type":"codeVoice","code":"Sources"},{"type":"text","text":" folder."},{"type":"text","text":" "},{"type":"text","text":"This will cause the Swift compiler to exit with an error if"},{"type":"text","text":" "},{"type":"text","text":"you try to use "},{"type":"codeVoice","code":"swift run"},{"type":"text","text":"."}]}],"type":"aside","name":"Warning"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Such a faulty structure that places your "},{"type":"codeVoice","code":"main.swift"},{"type":"text","text":" "},{"type":"text","text":"directly in the "},{"type":"codeVoice","code":"Sources"},{"type":"text","text":" folder would look like this:"}]},{"type":"codeListing","syntax":null,"code":["Package.swift","Sources\/main.swift"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In this case, your program won’t compile or run."},{"type":"text","text":" "},{"type":"text","text":"To fix this, you need to move the "},{"type":"codeVoice","code":"main.swift"},{"type":"text","text":" file"},{"type":"text","text":" "},{"type":"text","text":"into a "},{"type":"codeVoice","code":"swift-glist"},{"type":"text","text":" subfolder:"}]},{"type":"codeListing","syntax":null,"code":["mkdir Sources\/swift-glist","mv Sources\/main.swift Sources\/swift-glist\/"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Now you should be able to build your project."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Let us now change the "},{"type":"codeVoice","code":"Package.swift"},{"type":"text","text":" file so that it"},{"type":"text","text":" "},{"type":"text","text":"reads:"}]},{"type":"codeListing","syntax":"Swift","code":["\/\/ swift-tools-version: 5.7","","import PackageDescription","","let package = Package(","    name: \"swift-glist\",","    dependencies: [","        .package(url: \"https:\/\/github.com\/rhx\/gir2swift.git\", branch: \"main\"),","        .package(url: \"https:\/\/github.com\/rhx\/SwiftGLib.git\", branch: \"main\"),","    ],","    targets: [","        .executableTarget(","            name: \"swift-glist\",","            dependencies: [","                .product(name: \"GLib\", package: \"SwiftGLib\"),","            ]","        ),","    ]",")"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This will add the relevant dependencies for SwiftGLib"},{"type":"text","text":" "},{"type":"text","text":"to the project.  We can now change the code in our"},{"type":"text","text":" "},{"type":"codeVoice","code":"Sources\/swift-glist\/main.swift"},{"type":"text","text":" so that it reads:"}]},{"type":"codeListing","syntax":"Swift","code":["import GLib","","let list: TypedList = [\"Hello\", \"world\"]","","print(list.length())  \/\/ Prints: 2","","list.forEach { element in","    print(element)    \/\/ Prints: \"hello\" and \"world\"","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Compile and run the code using:"}]},{"type":"codeListing","syntax":null,"code":["swift run"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"After some compiler output (and potentially"},{"type":"text","text":" "},{"type":"text","text":"some warnings that you can ignore), you should get the"},{"type":"text","text":" "},{"type":"text","text":"following output:"}]},{"type":"codeListing","syntax":null,"code":["2","Hello","world"]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/glib\/tutorial"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/GLib\/documentation\/GLib\/Tutorial","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"This tutorial shows how to use GLib with Swift."},{"type":"text","text":" "},{"type":"text","text":"This is particularly useful if you want to interact"},{"type":"text","text":" "},{"type":"text","text":"with libraries written in C or other languages that use GLib."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Using GLib with Swift","role":"article","modules":[{"name":"GLib"}]},"hierarchy":{"paths":[["doc:\/\/GLib\/documentation\/GLib"]]},"references":{"https://wiki.debian.org/Apt":{"title":"apt","titleInlineContent":[{"type":"text","text":"apt"}],"type":"link","identifier":"https:\/\/wiki.debian.org\/Apt","url":"https:\/\/wiki.debian.org\/Apt"},"https://www.swift.org/getting-started/cli-swiftpm/":{"title":"working Swift compiler","titleInlineContent":[{"type":"text","text":"working Swift compiler"}],"type":"link","identifier":"https:\/\/www.swift.org\/getting-started\/cli-swiftpm\/","url":"https:\/\/www.swift.org\/getting-started\/cli-swiftpm\/"},"https://www.gnu.org/software/bash/":{"title":"bash","titleInlineContent":[{"type":"text","text":"bash"}],"type":"link","identifier":"https:\/\/www.gnu.org\/software\/bash\/","url":"https:\/\/www.gnu.org\/software\/bash\/"},"https://github.com/rhx/SwiftGLib/blob/main/README.md":{"title":"README","titleInlineContent":[{"type":"text","text":"README"}],"type":"link","identifier":"https:\/\/github.com\/rhx\/SwiftGLib\/blob\/main\/README.md","url":"https:\/\/github.com\/rhx\/SwiftGLib\/blob\/main\/README.md"},"http://brew.sh/":{"title":"HomeBrew","titleInlineContent":[{"type":"text","text":"HomeBrew"}],"type":"link","identifier":"http:\/\/brew.sh\/","url":"http:\/\/brew.sh\/"},"https://rhx.github.io/SwiftGLib/GLib/documentation/glib/typedlist":{"title":"doubly-linked lists","titleInlineContent":[{"type":"text","text":"doubly-linked lists"}],"type":"link","identifier":"https:\/\/rhx.github.io\/SwiftGLib\/GLib\/documentation\/glib\/typedlist","url":"https:\/\/rhx.github.io\/SwiftGLib\/GLib\/documentation\/glib\/typedlist"},"https://docs.gtk.org/glib/":{"title":"GLib","titleInlineContent":[{"type":"text","text":"GLib"}],"type":"link","identifier":"https:\/\/docs.gtk.org\/glib\/","url":"https:\/\/docs.gtk.org\/glib\/"},"https://rhx.github.io/SwiftGLib/GLib/documentation/glib/typedslist":{"title":"singly","titleInlineContent":[{"type":"text","text":"singly"}],"type":"link","identifier":"https:\/\/rhx.github.io\/SwiftGLib\/GLib\/documentation\/glib\/typedslist","url":"https:\/\/rhx.github.io\/SwiftGLib\/GLib\/documentation\/glib\/typedslist"},"doc://GLib/documentation/GLib":{"role":"collection","title":"GLib","abstract":[],"identifier":"doc:\/\/GLib\/documentation\/GLib","kind":"symbol","type":"topic","url":"\/documentation\/glib"},"https://developer.apple.com/support/xcode/":{"title":"installing Xcode","titleInlineContent":[{"type":"text","text":"installing Xcode"}],"type":"link","identifier":"https:\/\/developer.apple.com\/support\/xcode\/","url":"https:\/\/developer.apple.com\/support\/xcode\/"},"https://swift.org/package-manager/":{"title":"Swift Package Manager","titleInlineContent":[{"type":"text","text":"Swift Package Manager"}],"type":"link","identifier":"https:\/\/swift.org\/package-manager\/","url":"https:\/\/swift.org\/package-manager\/"},"https://www.zsh.org/":{"title":"zsh","titleInlineContent":[{"type":"text","text":"zsh"}],"type":"link","identifier":"https:\/\/www.zsh.org\/","url":"https:\/\/www.zsh.org\/"},"https://gi.readthedocs.io/en/latest/":{"title":"GObject Introspection","titleInlineContent":[{"type":"text","text":"GObject Introspection"}],"type":"link","identifier":"https:\/\/gi.readthedocs.io\/en\/latest\/","url":"https:\/\/gi.readthedocs.io\/en\/latest\/"},"https://www.swift.org/install/":{"title":"installing Swift","titleInlineContent":[{"type":"text","text":"installing Swift"}],"type":"link","identifier":"https:\/\/www.swift.org\/install\/","url":"https:\/\/www.swift.org\/install\/"}}}