{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"fileSetContentsFull"},{"kind":"text","text":"("},{"kind":"externalParam","text":"filename"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UnsafePointer","preciseIdentifier":"s:SP"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"gchar","preciseIdentifier":"c:@T@gchar"},{"kind":"text","text":">!, "},{"kind":"externalParam","text":"contents"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UnsafePointer","preciseIdentifier":"s:SP"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"gchar","preciseIdentifier":"c:@T@gchar"},{"kind":"text","text":">!, "},{"kind":"externalParam","text":"length"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"gssize","preciseIdentifier":"c:@T@gssize"},{"kind":"text","text":", "},{"kind":"externalParam","text":"flags"},{"kind":"text","text":": "},{"kind":"typeIdentifier","identifier":"doc:\/\/GLib\/documentation\/GLib\/FileSetContentsFlags","preciseIdentifier":"s:4GLib20FileSetContentsFlagsV","text":"FileSetContentsFlags"},{"kind":"text","text":", "},{"kind":"externalParam","text":"mode"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"content","content":[{"anchor":"discussion","level":2,"type":"heading","text":"Discussion"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"flags"},{"type":"text","text":" control the properties of the write operation: whether it’s atomic,"},{"type":"text","text":" "},{"type":"text","text":"and what the tradeoff is between returning quickly or being resilient to"},{"type":"text","text":" "},{"type":"text","text":"system crashes."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"As this function performs file I\/O, it is recommended to not call it anywhere"},{"type":"text","text":" "},{"type":"text","text":"where blocking would cause problems, such as in the main loop of a graphical"},{"type":"text","text":" "},{"type":"text","text":"application. In particular, if "},{"type":"codeVoice","code":"flags"},{"type":"text","text":" has any value other than"},{"type":"text","text":" "},{"type":"codeVoice","code":"none"},{"type":"text","text":" then this function may call "},{"type":"codeVoice","code":"fsync()"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If "},{"type":"codeVoice","code":"consistent"},{"type":"text","text":" is set in "},{"type":"codeVoice","code":"flags"},{"type":"text","text":", the operation is atomic"},{"type":"text","text":" "},{"type":"text","text":"in the sense that it is first written to a temporary file which is then"},{"type":"text","text":" "},{"type":"text","text":"renamed to the final name."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Notes:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"On UNIX, if "},{"type":"codeVoice","code":"filename"},{"type":"text","text":" already exists hard links to "},{"type":"codeVoice","code":"filename"},{"type":"text","text":" will break."},{"type":"text","text":" "},{"type":"text","text":"Also since the file is recreated, existing permissions, access control"},{"type":"text","text":" "},{"type":"text","text":"lists, metadata etc. may be lost. If "},{"type":"codeVoice","code":"filename"},{"type":"text","text":" is a symbolic link,"},{"type":"text","text":" "},{"type":"text","text":"the link itself will be replaced, not the linked file."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"On UNIX, if "},{"type":"codeVoice","code":"filename"},{"type":"text","text":" already exists and is non-empty, and if the system"},{"type":"text","text":" "},{"type":"text","text":"supports it (via a journalling filesystem or equivalent), and if"},{"type":"text","text":" "},{"type":"codeVoice","code":"consistent"},{"type":"text","text":" is set in "},{"type":"codeVoice","code":"flags"},{"type":"text","text":", the "},{"type":"codeVoice","code":"fsync()"},{"type":"text","text":" call (or"},{"type":"text","text":" "},{"type":"text","text":"equivalent) will be used to ensure atomic replacement: "},{"type":"codeVoice","code":"filename"},{"type":"text","text":" "},{"type":"text","text":"will contain either its old contents or "},{"type":"codeVoice","code":"contents"},{"type":"text","text":", even in the face of"},{"type":"text","text":" "},{"type":"text","text":"system power loss, the disk being unsafely removed, etc."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"On UNIX, if "},{"type":"codeVoice","code":"filename"},{"type":"text","text":" does not already exist or is empty, there is a"},{"type":"text","text":" "},{"type":"text","text":"possibility that system power loss etc. after calling this function will"},{"type":"text","text":" "},{"type":"text","text":"leave "},{"type":"codeVoice","code":"filename"},{"type":"text","text":" empty or full of NUL bytes, depending on the underlying"},{"type":"text","text":" "},{"type":"text","text":"filesystem, unless "},{"type":"codeVoice","code":"durable"},{"type":"text","text":" and"},{"type":"text","text":" "},{"type":"codeVoice","code":"consistent"},{"type":"text","text":" are set in "},{"type":"codeVoice","code":"flags"},{"type":"text","text":"."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"On Windows renaming a file will not remove an existing file with the"},{"type":"text","text":" "},{"type":"text","text":"new name, so on Windows there is a race condition between the existing"},{"type":"text","text":" "},{"type":"text","text":"file being removed and the temporary file being renamed."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"On Windows there is no way to remove a file that is open to some"},{"type":"text","text":" "},{"type":"text","text":"process, or mapped into memory. Thus, this function will fail if"},{"type":"text","text":" "},{"type":"codeVoice","code":"filename"},{"type":"text","text":" already exists and is open."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If the call was successful, it returns "},{"type":"codeVoice","code":"true"},{"type":"text","text":". If the call was not successful,"},{"type":"text","text":" "},{"type":"text","text":"it returns "},{"type":"codeVoice","code":"false"},{"type":"text","text":" and sets "},{"type":"codeVoice","code":"error"},{"type":"text","text":". The error domain is "},{"type":"codeVoice","code":"G_FILE_ERROR"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"Possible error codes are those in the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLib\/documentation\/GLib\/FileError"},{"type":"text","text":" enumeration."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Note that the name for the temporary file is constructed by appending up"},{"type":"text","text":" "},{"type":"text","text":"to 7 characters to "},{"type":"codeVoice","code":"filename"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If the file didn’t exist before and is created, it will be given the"},{"type":"text","text":" "},{"type":"text","text":"permissions from "},{"type":"codeVoice","code":"mode"},{"type":"text","text":". Otherwise, the permissions of the existing file may"},{"type":"text","text":" "},{"type":"text","text":"be changed to "},{"type":"codeVoice","code":"mode"},{"type":"text","text":" depending on "},{"type":"codeVoice","code":"flags"},{"type":"text","text":", or they may remain unchanged."}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/glib\/filesetcontentsfull(filename:contents:length:flags:mode:)"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/GLib\/documentation\/GLib\/fileSetContentsFull(filename:contents:length:flags:mode:)","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Writes all of "},{"type":"codeVoice","code":"contents"},{"type":"text","text":" to a file named "},{"type":"codeVoice","code":"filename"},{"type":"text","text":", with good error checking."},{"type":"text","text":" "},{"type":"text","text":"If a file called "},{"type":"codeVoice","code":"filename"},{"type":"text","text":" already exists it will be overwritten."}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"fileSetContentsFull"},{"kind":"text","text":"("},{"kind":"externalParam","text":"filename"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UnsafePointer","preciseIdentifier":"s:SP"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"gchar","preciseIdentifier":"c:@T@gchar"},{"kind":"text","text":">!, "},{"kind":"externalParam","text":"contents"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UnsafePointer","preciseIdentifier":"s:SP"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"gchar","preciseIdentifier":"c:@T@gchar"},{"kind":"text","text":">!, "},{"kind":"externalParam","text":"length"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"gssize","preciseIdentifier":"c:@T@gssize"},{"kind":"text","text":", "},{"kind":"externalParam","text":"flags"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"FileSetContentsFlags","preciseIdentifier":"s:4GLib20FileSetContentsFlagsV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"mode"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"}],"title":"fileSetContentsFull(filename:contents:length:flags:mode:)","roleHeading":"Function","role":"symbol","symbolKind":"func","externalID":"s:4GLib19fileSetContentsFull8filename8contents6length5flags4modeSbSPys4Int8VGSg_AKSiAA04FilecD5FlagsVSitKF","modules":[{"name":"GLib"}]},"hierarchy":{"paths":[["doc:\/\/GLib\/documentation\/GLib"]]},"references":{"doc://GLib/documentation/GLib/FileSetContentsFlags":{"role":"symbol","title":"FileSetContentsFlags","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"FileSetContentsFlags"}],"abstract":[{"type":"text","text":"Flags to pass to "},{"type":"codeVoice","code":"g_file_set_contents_full()"},{"type":"text","text":" to affect its safety and"},{"type":"text","text":" "},{"type":"text","text":"performance."}],"identifier":"doc:\/\/GLib\/documentation\/GLib\/FileSetContentsFlags","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"FileSetContentsFlags"}],"url":"\/documentation\/glib\/filesetcontentsflags"},"doc://GLib/documentation/GLib/fileSetContentsFull(filename:contents:length:flags:mode:)":{"role":"symbol","title":"fileSetContentsFull(filename:contents:length:flags:mode:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"fileSetContentsFull"},{"kind":"text","text":"("},{"kind":"externalParam","text":"filename"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UnsafePointer","preciseIdentifier":"s:SP"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"gchar","preciseIdentifier":"c:@T@gchar"},{"kind":"text","text":">!, "},{"kind":"externalParam","text":"contents"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UnsafePointer","preciseIdentifier":"s:SP"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"gchar","preciseIdentifier":"c:@T@gchar"},{"kind":"text","text":">!, "},{"kind":"externalParam","text":"length"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"gssize","preciseIdentifier":"c:@T@gssize"},{"kind":"text","text":", "},{"kind":"externalParam","text":"flags"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"FileSetContentsFlags","preciseIdentifier":"s:4GLib20FileSetContentsFlagsV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"mode"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"}],"abstract":[{"type":"text","text":"Writes all of "},{"type":"codeVoice","code":"contents"},{"type":"text","text":" to a file named "},{"type":"codeVoice","code":"filename"},{"type":"text","text":", with good error checking."},{"type":"text","text":" "},{"type":"text","text":"If a file called "},{"type":"codeVoice","code":"filename"},{"type":"text","text":" already exists it will be overwritten."}],"identifier":"doc:\/\/GLib\/documentation\/GLib\/fileSetContentsFull(filename:contents:length:flags:mode:)","kind":"symbol","type":"topic","url":"\/documentation\/glib\/filesetcontentsfull(filename:contents:length:flags:mode:)"},"doc://GLib/documentation/GLib":{"role":"collection","title":"GLib","abstract":[],"identifier":"doc:\/\/GLib\/documentation\/GLib","kind":"symbol","type":"topic","url":"\/documentation\/glib"},"doc://GLib/documentation/GLib/FileError":{"role":"symbol","title":"FileError","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"FileError"}],"abstract":[{"type":"text","text":"Values corresponding to "},{"type":"codeVoice","code":"errno"},{"type":"text","text":" codes returned from file operations"},{"type":"text","text":" "},{"type":"text","text":"on UNIX. Unlike "},{"type":"codeVoice","code":"errno"},{"type":"text","text":" codes, GFileError values are available on"},{"type":"text","text":" "},{"type":"text","text":"all systems, even Windows. The exact meaning of each code depends"},{"type":"text","text":" "},{"type":"text","text":"on what sort of file operation you were performing; the UNIX"},{"type":"text","text":" "},{"type":"text","text":"documentation gives more details. The following error code descriptions"},{"type":"text","text":" "},{"type":"text","text":"come from the GNU C Library manual, and are under the copyright"},{"type":"text","text":" "},{"type":"text","text":"of that manual."}],"identifier":"doc:\/\/GLib\/documentation\/GLib\/FileError","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"FileError"}],"url":"\/documentation\/glib\/fileerror"}}}