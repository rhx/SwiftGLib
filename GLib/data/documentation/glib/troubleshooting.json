{"primaryContentSections":[{"kind":"content","content":[{"anchor":"FFI-Module-Errors","level":2,"type":"heading","text":"FFI Module Errors"},{"type":"paragraph","inlineContent":[{"type":"text","text":"On some versions of macOS, when Xcode is installed,"},{"type":"text","text":" "},{"type":"text","text":"there is a conflict between the FFI library module"},{"type":"text","text":" "},{"type":"text","text":"available through Xcode and the command line tools."},{"type":"text","text":" "},{"type":"text","text":"This typically results in an error such as"}]},{"type":"codeListing","syntax":null,"code":["\/Applications\/Xcode.app\/Contents\/Developer\/Platforms\/MacOSX.platform\/Developer\/SDKs\/MacOSX14.2.sdk\/usr\/include\/ffi\/module.modulemap:1:8: error: redefinition of module 'FFI'","module FFI [system] {","       ^","\/Library\/Developer\/CommandLineTools\/SDKs\/MacOSX13.sdk\/usr\/include\/ffi\/module.modulemap:1:8: note: previously defined here","module FFI [system] [extern_c] {","       ^","error: fatalError"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"A way to resolve this is to remove the Command Line Tools."},{"type":"text","text":" "},{"type":"text","text":"Alternatively, you can temporarily rename the CommandLineTools folder, i.e."}]},{"type":"codeListing","syntax":null,"code":["sudo mv \/Library\/Developer\/CommandLineTools{,.orig}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Later you can move the folder back:"}]},{"type":"codeListing","syntax":null,"code":["sudo mv \/Library\/Developer\/CommandLineTools{.orig,}"]},{"anchor":"Missing-gir-Files","level":2,"type":"heading","text":"Missing `.gir` Files"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you get an error such as"}]},{"type":"codeListing","syntax":null,"code":["Girs located at","Cannot open '\/GLib-2.0.gir': No such file or directory"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Make sure that you have the relevant "},{"type":"codeVoice","code":"gobject-introspection"},{"type":"text","text":" packages installed (as per the Pre-requisites section), including their "},{"type":"codeVoice","code":".gir"},{"type":"text","text":" and "},{"type":"codeVoice","code":".pc"},{"type":"text","text":" files."}]},{"anchor":"Old-Swift-toolchain-or-Xcode","level":2,"type":"heading","text":"Old Swift toolchain or Xcode"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If, when you run "},{"type":"codeVoice","code":"swift build"},{"type":"text","text":", you get a "},{"type":"codeVoice","code":"Segmentation fault (core dumped)"},{"type":"text","text":" or circular dependency error such as"}]},{"type":"codeListing","syntax":null,"code":["warning: circular dependency detected while parsing pangocairo: harfbuzz -> freetype2 -> harfbuzz"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"this probably means that your Swift toolchain is too old, particularly on Linux."},{"type":"text","text":" "},{"type":"text","text":"Make sure the latest toolchain is the one that is found when you run the Swift compiler (see above)."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you get an older version, make sure that the right version of the swift compiler is found first in your "},{"type":"codeVoice","code":"PATH"},{"type":"text","text":".  On macOS, use xcode-select to select and install the latest version, e.g.:"}]},{"type":"codeListing","syntax":null,"code":["sudo xcode-select -s \/Applications\/Xcode.app","xcode-select --install"]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/glib\/troubleshooting"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/GLib\/documentation\/GLib\/Troubleshooting","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"This section shows some common errors you might encounter and how to fix them."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Troubleshooting","role":"article","modules":[{"name":"GLib"}]},"hierarchy":{"paths":[["doc:\/\/GLib\/documentation\/GLib"]]},"references":{"doc://GLib/documentation/GLib":{"role":"collection","title":"GLib","abstract":[],"identifier":"doc:\/\/GLib\/documentation\/GLib","kind":"symbol","type":"topic","url":"\/documentation\/glib"}}}