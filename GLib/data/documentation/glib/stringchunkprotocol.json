{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"StringChunkProtocol"},{"kind":"text","text":" : "},{"kind":"typeIdentifier","identifier":"doc:\/\/GLib\/documentation\/GLib\/PointerWrapper","preciseIdentifier":"s:4GLib14PointerWrapperP","text":"PointerWrapper"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"String chunks are used to store groups of strings. Memory is"},{"type":"text","text":" "},{"type":"text","text":"allocated in blocks, and as strings are added to the "},{"type":"codeVoice","code":"GStringChunk"},{"type":"text","text":" "},{"type":"text","text":"they are copied into the next free position in a block. When a block"},{"type":"text","text":" "},{"type":"text","text":"is full a new block is allocated."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"When storing a large number of strings, string chunks are more"},{"type":"text","text":" "},{"type":"text","text":"efficient than using [func"},{"type":"codeVoice","code":"GLib.strdup"},{"type":"text","text":"] since fewer calls to "},{"type":"codeVoice","code":"malloc()"},{"type":"text","text":" "},{"type":"text","text":"are needed, and less memory is wasted in memory allocation overheads."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"By adding strings with [method"},{"type":"codeVoice","code":"GLib.StringChunk.insert_const"},{"type":"text","text":"] it is also"},{"type":"text","text":" "},{"type":"text","text":"possible to remove duplicates."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To create a new "},{"type":"codeVoice","code":"GStringChunk"},{"type":"text","text":" use [func"},{"type":"codeVoice","code":"GLib.StringChunk.new"},{"type":"text","text":"]."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To add strings to a "},{"type":"codeVoice","code":"GStringChunk"},{"type":"text","text":" use [method"},{"type":"codeVoice","code":"GLib.StringChunk.insert"},{"type":"text","text":"]."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To add strings to a "},{"type":"codeVoice","code":"GStringChunk"},{"type":"text","text":", but without duplicating strings"},{"type":"text","text":" "},{"type":"text","text":"which are already in the "},{"type":"codeVoice","code":"GStringChunk"},{"type":"text","text":", use [method"},{"type":"codeVoice","code":"GLib.StringChunk.insert_const"},{"type":"text","text":"]."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To free the entire "},{"type":"codeVoice","code":"GStringChunk"},{"type":"text","text":" use [method"},{"type":"codeVoice","code":"GLib.StringChunk.free"},{"type":"text","text":"]."},{"type":"text","text":" "},{"type":"text","text":"It is not possible to free individual strings."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLib\/documentation\/GLib\/StringChunkProtocol"},{"type":"text","text":" protocol exposes the methods and properties of an underlying "},{"type":"codeVoice","code":"GStringChunk"},{"type":"text","text":" instance."},{"type":"text","text":" "},{"type":"text","text":"The default implementation of these can be found in the protocol extension below."},{"type":"text","text":" "},{"type":"text","text":"For a concrete class that implements these methods and properties, see "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLib\/documentation\/GLib\/StringChunk"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"Alternatively, use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLib\/documentation\/GLib\/StringChunkRef"},{"type":"text","text":" as a lighweight, "},{"type":"codeVoice","code":"unowned"},{"type":"text","text":" reference if you already have an instance you just want to use."}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/glib\/stringchunkprotocol"],"traits":[{"interfaceLanguage":"swift"}]}],"relationshipsSections":[{"identifiers":["doc:\/\/GLib\/documentation\/GLib\/PointerWrapper"],"kind":"relationships","title":"Inherits From","type":"inheritsFrom"},{"identifiers":["doc:\/\/GLib\/documentation\/GLib\/StringChunk","doc:\/\/GLib\/documentation\/GLib\/StringChunkRef"],"kind":"relationships","title":"Conforming Types","type":"conformingTypes"}],"identifier":{"url":"doc:\/\/GLib\/documentation\/GLib\/StringChunkProtocol","interfaceLanguage":"swift"},"abstract":[{"type":"codeVoice","code":"GStringChunk"},{"type":"text","text":" provides efficient storage of groups of strings"}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"StringChunkProtocol"}],"title":"StringChunkProtocol","roleHeading":"Protocol","role":"symbol","symbolKind":"protocol","externalID":"s:4GLib19StringChunkProtocolP","modules":[{"name":"GLib"}],"navigatorTitle":[{"kind":"identifier","text":"StringChunkProtocol"}]},"hierarchy":{"paths":[["doc:\/\/GLib\/documentation\/GLib"]]},"topicSections":[{"title":"Instance Methods","identifiers":["doc:\/\/GLib\/documentation\/GLib\/StringChunkProtocol\/clear()","doc:\/\/GLib\/documentation\/GLib\/StringChunkProtocol\/free()","doc:\/\/GLib\/documentation\/GLib\/StringChunkProtocol\/insert(string:)","doc:\/\/GLib\/documentation\/GLib\/StringChunkProtocol\/insertConst(string:)","doc:\/\/GLib\/documentation\/GLib\/StringChunkProtocol\/insertLen(string:len:)"]}],"references":{"doc://GLib/documentation/GLib/StringChunkProtocol":{"role":"symbol","title":"StringChunkProtocol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"StringChunkProtocol"}],"abstract":[{"type":"codeVoice","code":"GStringChunk"},{"type":"text","text":" provides efficient storage of groups of strings"}],"identifier":"doc:\/\/GLib\/documentation\/GLib\/StringChunkProtocol","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"StringChunkProtocol"}],"url":"\/documentation\/glib\/stringchunkprotocol"},"doc://GLib/documentation/GLib/StringChunkProtocol/insert(string:)":{"role":"symbol","title":"insert(string:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"insert"},{"kind":"text","text":"("},{"kind":"externalParam","text":"string"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UnsafePointer","preciseIdentifier":"s:SP"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"gchar","preciseIdentifier":"c:@T@gchar"},{"kind":"text","text":">!) -> "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"!"}],"abstract":[{"type":"text","text":"Adds a copy of "},{"type":"codeVoice","code":"string"},{"type":"text","text":" to the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLib\/documentation\/GLib\/StringChunk"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"It returns a pointer to the new copy of the string"},{"type":"text","text":" "},{"type":"text","text":"in the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLib\/documentation\/GLib\/StringChunk"},{"type":"text","text":". The characters in the string"},{"type":"text","text":" "},{"type":"text","text":"can be changed, if necessary, though you should not"},{"type":"text","text":" "},{"type":"text","text":"change anything after the end of the string."}],"identifier":"doc:\/\/GLib\/documentation\/GLib\/StringChunkProtocol\/insert(string:)","kind":"symbol","type":"topic","url":"\/documentation\/glib\/stringchunkprotocol\/insert(string:)"},"doc://GLib/documentation/GLib/StringChunkProtocol/clear()":{"role":"symbol","title":"clear()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"clear"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"Frees all strings contained within the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLib\/documentation\/GLib\/StringChunk"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"After calling "},{"type":"codeVoice","code":"g_string_chunk_clear()"},{"type":"text","text":" it is not safe to"},{"type":"text","text":" "},{"type":"text","text":"access any of the strings which were contained within it."}],"identifier":"doc:\/\/GLib\/documentation\/GLib\/StringChunkProtocol\/clear()","kind":"symbol","type":"topic","url":"\/documentation\/glib\/stringchunkprotocol\/clear()"},"doc://GLib/documentation/GLib/StringChunk":{"role":"symbol","title":"StringChunk","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"StringChunk"}],"abstract":[{"type":"codeVoice","code":"GStringChunk"},{"type":"text","text":" provides efficient storage of groups of strings"}],"identifier":"doc:\/\/GLib\/documentation\/GLib\/StringChunk","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"StringChunk"}],"url":"\/documentation\/glib\/stringchunk"},"doc://GLib/documentation/GLib/StringChunkRef":{"role":"symbol","title":"StringChunkRef","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"StringChunkRef"}],"abstract":[{"type":"codeVoice","code":"GStringChunk"},{"type":"text","text":" provides efficient storage of groups of strings"}],"identifier":"doc:\/\/GLib\/documentation\/GLib\/StringChunkRef","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"StringChunkRef"}],"url":"\/documentation\/glib\/stringchunkref"},"doc://GLib/documentation/GLib/PointerWrapper":{"role":"symbol","title":"PointerWrapper","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"PointerWrapper"}],"abstract":[{"type":"text","text":"Protocol for GLib types that wrap pointers."}],"identifier":"doc:\/\/GLib\/documentation\/GLib\/PointerWrapper","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PointerWrapper"}],"url":"\/documentation\/glib\/pointerwrapper"},"doc://GLib/documentation/GLib/StringChunkProtocol/insertConst(string:)":{"role":"symbol","title":"insertConst(string:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"insertConst"},{"kind":"text","text":"("},{"kind":"externalParam","text":"string"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UnsafePointer","preciseIdentifier":"s:SP"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"gchar","preciseIdentifier":"c:@T@gchar"},{"kind":"text","text":">!) -> "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"!"}],"abstract":[{"type":"text","text":"Adds a copy of "},{"type":"codeVoice","code":"string"},{"type":"text","text":" to the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLib\/documentation\/GLib\/StringChunk"},{"type":"text","text":", unless the same"},{"type":"text","text":" "},{"type":"text","text":"string has already been added to the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLib\/documentation\/GLib\/StringChunk"},{"type":"text","text":" with"},{"type":"text","text":" "},{"type":"codeVoice","code":"g_string_chunk_insert_const()"},{"type":"text","text":"."}],"identifier":"doc:\/\/GLib\/documentation\/GLib\/StringChunkProtocol\/insertConst(string:)","kind":"symbol","type":"topic","url":"\/documentation\/glib\/stringchunkprotocol\/insertconst(string:)"},"doc://GLib/documentation/GLib":{"role":"collection","title":"GLib","abstract":[],"identifier":"doc:\/\/GLib\/documentation\/GLib","kind":"symbol","type":"topic","url":"\/documentation\/glib"},"doc://GLib/documentation/GLib/StringChunkProtocol/free()":{"role":"symbol","title":"free()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"free"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"Frees all memory allocated by the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLib\/documentation\/GLib\/StringChunk"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"After calling "},{"type":"codeVoice","code":"g_string_chunk_free()"},{"type":"text","text":" it is not safe to"},{"type":"text","text":" "},{"type":"text","text":"access any of the strings which were contained within it."}],"identifier":"doc:\/\/GLib\/documentation\/GLib\/StringChunkProtocol\/free()","kind":"symbol","type":"topic","url":"\/documentation\/glib\/stringchunkprotocol\/free()"},"doc://GLib/documentation/GLib/StringChunkProtocol/insertLen(string:len:)":{"role":"symbol","title":"insertLen(string:len:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"insertLen"},{"kind":"text","text":"("},{"kind":"externalParam","text":"string"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UnsafePointer","preciseIdentifier":"s:SP"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"gchar","preciseIdentifier":"c:@T@gchar"},{"kind":"text","text":">!, "},{"kind":"externalParam","text":"len"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"gssize","preciseIdentifier":"c:@T@gssize"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"!"}],"abstract":[{"type":"text","text":"Adds a copy of the first "},{"type":"codeVoice","code":"len"},{"type":"text","text":" bytes of "},{"type":"codeVoice","code":"string"},{"type":"text","text":" to the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLib\/documentation\/GLib\/StringChunk"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"The copy is nul-terminated."}],"identifier":"doc:\/\/GLib\/documentation\/GLib\/StringChunkProtocol\/insertLen(string:len:)","kind":"symbol","type":"topic","url":"\/documentation\/glib\/stringchunkprotocol\/insertlen(string:len:)"}}}